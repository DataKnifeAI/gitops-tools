apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: managed-tools

resources:
  # Include base resources directly as individual files
  # Since Fleet monitors harbor/ and creates separate bundles for base/ and overlays/nprd-apps/,
  # we can't use relative paths to reference ../../base or ../base.
  # Instead, we reference the base resources using the path relative to the harbor/ directory
  # When Fleet processes this overlay bundle, it has access to the full harbor/ checkout
  - base/postgresql-cluster.yaml
  - base/postgresql-database.yaml
  - base/harbor-helmchart.yaml
  - base/harbor-helmchartconfig.yaml

# Cluster-specific overrides for nprd-apps
# Add any nprd-apps specific configurations here
# Examples:
# - resource limits/requests
# - storage class
# - ingress configurations
# - environment-specific values

patches:
  # Add patches here for nprd-apps specific configurations
  # - path: resource-limits.yaml
  #   target:
  #     kind: Deployment
  #     name: harbor-core
