# Fleet configuration for nprd-apps cluster
# This file configures how Fleet deploys GitHub Runner Controller to the nprd-apps cluster
#
# Fleet will use this configuration when the GitRepo monitors:
# - The root directory (creates bundles for each directory)
# - Or specifically the github-runner/overlays/nprd-apps path
#
# If your GitRepo monitors github-runner/base, it won't see this overlay.
# In that case, either:
# 1. Change GitRepo to monitor github-runner/overlays/nprd-apps
# 2. Or change GitRepo to monitor root and use fleet.yaml for targeting

defaultNamespace: managed-cicd

# Target this bundle to the nprd-apps cluster
targetCustomizations:
  - name: nprd-apps
    clusterSelector:
      matchLabels:
        # Targeting local cluster (or any cluster with these labels)
        # Update to match your actual cluster labels
        # Common patterns:
        # provider.cattle.io: rke2
        # management.cattle.io/cluster-display-name: local
        # Or use cluster name directly if supported
        provider.cattle.io: rke2
